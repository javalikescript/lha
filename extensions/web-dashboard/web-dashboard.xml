<app-page id="web-dashboard" title="Dashboard">
  <template slot="bar-right">
    <button v-on:click="app.toPage('extension', 'web-dashboard')" title="Configuration"><i class="fas fa-cog"></i></button>
    <button :title="'Last change ' + (lastChange ? lastChange.toISOString() : 'not available')"><i :class="['fas', 'fa-' + (changeTimer ? 'link' : 'unlink')]"></i></button>
    <button v-on:click="toggleFullScreen()" title="Refresh"><i class="fas fa-expand-alt"></i></button>
    <button v-on:click="onShow()" title="Refresh"><i class="fas fa-sync"></i></button>
  </template>
  <article class="tiles">
    <div class="tile" v-on:click="onTileClicked(tile)" v-for="tile in tiles">
      <div class="bar">
        <span>{{ tile.title }}</span>
        <div>
          <button v-if="tile.paths.length > 0" v-on:click="openHistoricalData(tile.paths)"><i class="fas fa-chart-line"></i></button>
        </div>
      </div>
      <p class="tile-value" v-if="typeof tile.value === 'boolean'"><i :class="['fas', formatValue(tile)]"></i></p>
      <p class="tile-value" v-else>{{ formatValue(tile) }}</p>
      <div class="bar">
        <div/>
        <span>{{ tile.unit }}</span>
      </div>
    </div>
  </article>
</app-page>